<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>2.프로미스</title>
        <!--
            날짜 : 2023/07/25
            이름 : 이규석
            내용 : Javascript 프로미스 객체 실습
        -->
    </head>
    <body>
        <h3>2.프로미스 객체</h3>

        <script>
            // promise 기본
            let result = true;
            
            const promise1 = new Promise((resolve, reject)=>{

                if(result) {
                    resolve('promise1 fulfilled...');
                }else {
                    reject('promise1 reject...');
                }

            });

            promise1
                .then((msg)=>{
                    console.log(msg)
                })
                .catch((msg)=>{
                    console.log(msg);
                })
                .finally(()=>{
                    console.log('promise1 end...')
                });

                // promise를 이용한 비동기 방식 처리
                function step1(msg){
                    
                    return new Promise((resolve, reject)=>{
                        setTimeout(() => {
                            resolve('step1...');
                        }, 1000);
                    });
                }

                function step2(msg){
                    console.log(msg);

                    return new Promise((resolve, reject)=>{
                        setTimeout(() => {
                            resolve('step2...');
                        }, 3000);
                    });
                }

                function step3(msg){
                    console.log(msg);

                    return new Promise((resolve, reject)=>{
                        setTimeout(() => {
                            resolve('step3...');
                        }, 2000);
                    });
                }

                step1()
                    .then((msg)=>step2(msg))
                    .then((msg)=>step3(msg))
                    .then((msg)=>{
                        console.log(msg);
                    });

        </script>

    </body>
</html>